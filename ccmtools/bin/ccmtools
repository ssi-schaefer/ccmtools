#!/bin/sh

if [ -z "$JAVA_HOME" ]; then
echo "ERROR!"
echo "Environment variable JAVA_HOME not found!" 
exit 1
fi

if [ -z "$CCMTOOLS_HOME" ]; then
echo "ERROR!"
echo "Environment variable CCMTOOLS_HOME not found!" 
exit 1
fi

JAVA_LAUNCHER="$JAVA_HOME"/bin/java
if [ -x $JAVA_LAUNCHER ]; then 

CLASSPATH=$CCMTOOLS_HOME/lib/antlr.jar:$CCMTOOLS_HOME/lib/mdr01.jar:$CCMTOOLS_HOME/lib/oclmetamodel.jar:$CCMTOOLS_HOME/lib/ccmtools.jar:$CLASSPATH

exec $JAVA_HOME/bin/java -cp $CLASSPATH -Dccmtools.home=$CCMTOOLS_HOME -Dccmtools.templates=$CCMTOOLS_HOME/templates -Djava.util.logging.config.file=$CCMTOOLS_HOME/etc/logging.properties ccmtools.UI.Main $@  

else
echo "ERROR!"
echo "Java executable not found in" $JAVA_HOME/bin/java
exit 1
fi