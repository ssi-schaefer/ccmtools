<project name="JavaClientLibTest" default="compile.src">

  <property name="dest" location="xxx" />
  <property name="idl2" location="${dest}/idl2" />
  <property name="src-gen" location="${dest}/src-gen" />
  <property name="build" location="${dest}/build" />
  <property name="src" location="src" />

  <path id="compile.classpath">
      <pathelement path="${java.class.path}" />
  </path>


  <!-- Create the build directory-->
  <target name="init" description="" >
      <mkdir dir="${build}" />
  </target>
 

  <!-- Compile generated Java files-->
  <target name="compile.src-gen" depends="init" description="" >
      <javac srcdir="${src-gen}" destdir="${build}" 
             debug="on" source="1.5" target="1.5">
          <classpath refid="compile.classpath" />  
      </javac>
  </target>

  <!-- Compile manuall Java files-->
  <target name="compile.src" depends="compile.src-gen" description="" >
      <javac srcdir="${src}" destdir="${build}" 
             debug="on" source="1.5" target="1.5">
          <classpath refid="compile.classpath" />  
      </javac>
  </target>


  <!-- Clean up -->
  <target name="clean" description="" >
      <delete dir="${build}" />
  </target>

</project>