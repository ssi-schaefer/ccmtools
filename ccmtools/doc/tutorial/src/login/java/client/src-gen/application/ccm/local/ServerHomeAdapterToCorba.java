/*
 * This file was automatically generated by CCM Tools version 0.7.0
 * <http://ccmtools.sourceforge.net>
 * DO NOT EDIT!
 */

package application.ccm.local;

import java.util.logging.Logger;

import Components.ccm.local.CCMException;
import Components.ccm.local.CCMObject;
import Components.ccm.local.CreateFailure;
import Components.ccm.local.RemoveFailure;

import ccm.local.ServiceLocator;
           
public class ServerHomeAdapterToCorba
    implements ServerHome
{
    private Logger logger = ServiceLocator.instance().getLogger();

    /** CORBA reference to the remote home */
    private application.ServerHome remoteHome;
    
         
    public ServerHomeAdapterToCorba(Components.CCMHome ccmHome)
        throws CCMException
    {
        logger.fine("ccmHome = " + ccmHome);
        remoteHome = application.ServerHomeHelper.narrow(ccmHome);
    }
    
    
    /** Home implicit operations */
        
    public application.ccm.local.Server create()
        throws CreateFailure
    {
        logger.fine("");
        try
        {
            return new application.ccm.local.ServerAdapterToCorba(remoteHome.create());        
        }
        catch(java.lang.Exception e)
        {
            throw new CreateFailure();
        }
    } 
    
    // This operation is defined in ccm.local.Components.KeylessCCMHomeOperations
    public CCMObject create_component()
        throws CCMException, CreateFailure
    {
        logger.fine("");
        return (CCMObject)create();
    }
    
    
    /** Home explicit operations */
        
    // This operation is defined in ccm.local.Components.CCMHome
    public void remove_component(CCMObject component)
        throws CCMException, RemoveFailure
    {
        logger.fine("component = " + component);
        if(component == null)
        {
            throw new RemoveFailure("Can't remove component because its reference is null!");
        }
        else
        {
            component.remove();
        } 
    }
}
