/*
 * This file was automatically generated by CCM Tools version 0.7.0
 * <http://ccmtools.sourceforge.net>
 * DO NOT EDIT!
 */

package system.ccm.local;
   
import java.util.logging.Logger;

import Components.ccm.local.Assembly;
import Components.ccm.local.AssemblyFactory;
import Components.ccm.local.CCMException;
import Components.ccm.local.CCMObject;
import Components.ccm.local.CreateFailure;
import Components.ccm.local.RemoveFailure;

import ccm.local.ServiceLocator;

public class ServerHomeAdapter 
    implements ServerHome
{
    private Logger logger = ServiceLocator.instance().getLogger();
    
    private CCM_ServerHome localInterface;
    private AssemblyFactory assemblyFactory;
    
    protected ServerHomeAdapter()
    {
        this(null, null);
    }
    
    public ServerHomeAdapter(CCM_ServerHome localInterface)
    {
        this(localInterface, null);
    }
    
    public ServerHomeAdapter(CCM_ServerHome localInterface, 
            AssemblyFactory assemblyFactory)
    {
        logger.fine("localInterface = " + localInterface + ", " + assemblyFactory);
        this.localInterface = localInterface;
        this.assemblyFactory = assemblyFactory;
    }

    
    public Server create()
        throws CreateFailure
    {
        logger.fine("");
        try
        {
            CCM_Server c = (CCM_Server)localInterface.create();
            Server component;
            if(assemblyFactory != null)
            {
                Assembly assembly = assemblyFactory.create();
                component = new ServerAdapter(c, assembly);
                assembly.build(component);
            }
            else
            {
                component = new ServerAdapter(c);
            }
            return component;
        }
        catch(CCMException e)
        {
            throw new CreateFailure();
        }    
    }
    
    public void remove_component(CCMObject component) 
        throws CCMException, RemoveFailure
    {
        logger.fine("");	
        component.remove();
    }

    public CCMObject create_component() 
        throws CCMException, CreateFailure
    {
        logger.fine("");
        return create();
    }
}