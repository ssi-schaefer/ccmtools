/*
 * This file was automatically generated by %(CcmToolsVersion)s 
 * <http://ccmtools.sourceforge.net>
 * DO NOT EDIT! 
 */

#ifndef __IFACE_%(PreprocIdentifier)s__H__
#define __IFACE_%(PreprocIdentifier)s__H__

#ifdef HAVE_CONFIG_H
#  include <config.h>
#endif 

#ifdef HAVE_MICO 

#include <%(LocalIncludeNamespace)s/%(Identifier)s.h> 
#include <%(StubsIncludeNamespace)s%(Identifier)s.h>

%(MAttributeDefInclude)s

%(MOperationDefInclude)s

%(OpenNamespace)s

  //============================================================================
  // Interface adapter from CORBA to C++ 
  //============================================================================

  class %(Identifier)sAdapterFromCorba :
      virtual public POA_%(StubIdentifier)s,
      virtual public PortableServer::RefCountServantBase
  {
    protected:
      wamas::platform::utils::SmartPtr<%(LocalNamespace)s::%(Identifier)s> localInterface; 
    public:
      %(Identifier)sAdapterFromCorba(
          wamas::platform::utils::SmartPtr<%(LocalNamespace)s::%(Identifier)s> lif);
      virtual ~%(Identifier)sAdapterFromCorba();

%(AttributeBaseInterfaceAdapterFromCorbaHeader)s

%(MAttributeDefInterfaceAdapterFromCorbaHeader)s

%(OperationBaseInterfaceAdapterFromCorbaHeader)s

%(MOperationDefInterfaceAdapterFromCorbaHeader)s
  };


  //============================================================================
  // Interface adapter to CORBA (from C++)
  //============================================================================
  
  class %(Identifier)sAdapterToCorba 
    : virtual public %(CCM_LocalType)s
  {
    protected:
      %(StubsNamespace)s%(Identifier)s_var remoteInterface; 
    public:
      %(Identifier)sAdapterToCorba(%(StubsNamespace)s%(Identifier)s_ptr rif);
      virtual ~%(Identifier)sAdapterToCorba();

%(AttributeBaseInterfaceAdapterToCorbaHeader)s

%(MAttributeDefInterfaceAdapterToCorbaHeader)s

%(OperationBaseInterfaceAdapterToCorbaHeader)s

%(MOperationDefInterfaceAdapterToCorbaHeader)s
  };

%(CloseNamespace)s

#endif // HAVE_MICO
#endif // __IFACE_%(PreprocIdentifier)s__H__



<<<<<<<SPLIT>>>>>>>
/*
 * This file was automatically generated by %(CcmToolsVersion)s
 * <http://ccmtools.sourceforge.net>
 * DO NOT EDIT!
 */
 
#include <wamas/platform/utils/smartptr.h>
#include <wamas/platform/utils/debug.h> 
#include <CCM/CCMContainer.h>
#include <ccm/remote/PrimitiveConverter.h>

%(CorbaDebugInclude)s

#include "%(Identifier)s_remote.h"

using namespace std;
using namespace wamas::platform::utils;

%(OpenNamespace)s

//============================================================================
// Interface adapter from CORBA implementation
//============================================================================

%(Identifier)sAdapterFromCorba::%(Identifier)sAdapterFromCorba(
    wamas::platform::utils::SmartPtr<%(LocalNamespace)s::%(Identifier)s> lif)
    : localInterface(lif)
{
    LDEBUGNL(CCM_CONTAINER, "+%(Identifier)sAdapterFromCorba::%(Identifier)sAdapterFromCorba()");
}

%(Identifier)sAdapterFromCorba::~%(Identifier)sAdapterFromCorba()
{
    LDEBUGNL(CCM_CONTAINER, "-%(Identifier)sAdapterFromCorba::~%(Identifier)sAdapterFromCorba()");
    // Smart pointer local_facet_adapter goes out of scope
}

%(AttributeBaseInterfaceAdapterFromCorbaImpl)s

%(MAttributeDefInterfaceAdapterFromCorbaImpl)s

%(OperationBaseInterfaceAdapterFromCorbaImpl)s

%(MOperationDefInterfaceAdapterFromCorbaImpl)s



//============================================================================
// Interface adapter to CORBA implementation
//============================================================================

%(Identifier)sAdapterToCorba::%(Identifier)sAdapterToCorba(
    %(StubsNamespace)s%(Identifier)s_ptr rif)
{
    LDEBUGNL(CCM_CONTAINER, "+%(Identifier)sAdapterToCorba::%(Identifier)sAdapterToCorba()");
    remoteInterface = ::%(StubsNamespace)s%(Identifier)s::_duplicate(rif);
}

%(Identifier)sAdapterToCorba::~%(Identifier)sAdapterToCorba()
{
    LDEBUGNL(CCM_CONTAINER, "-%(Identifier)sAdapterToCorba::~%(Identifier)sAdapterToCorba()");
}

%(AttributeBaseInterfaceAdapterToCorbaImpl)s

%(MAttributeDefInterfaceAdapterToCorbaImpl)s

%(OperationBaseInterfaceAdapterToCorbaImpl)s

%(MOperationDefInterfaceAdapterToCorbaImpl)s

%(CloseNamespace)s
