%(ComponentType)s::SmartPtr
%(HomeType)s::%(Identifier)s(%(MParameterDefAll)s)
    throw(::Components::CCMException, ::Components::CreateFailure)
{
    ::Components::Assembly::SmartPtr assembly;
    if(assembly_factory != ::Components::AssemblyFactory::SmartPtr()) 
    {
        assembly = assembly_factory->create(); 
    }

    ::Components::EnterpriseComponent* enterprise_component = 
        local_home->%(Identifier)s(%(MParameterDefName)s);
                
    %(CCMComponentType)s* local_component = 
        dynamic_cast< %(CCMComponentType)s* >(enterprise_component);
    
    %(ComponentType)s* local_component_adapter = 
        new %(ComponentType)s(this, local_component, assembly);
        
    %(ComponentType)s::SmartPtr ret(local_component_adapter);
        
    if(assembly_factory != ::Components::AssemblyFactory::SmartPtr()) 
    {
        assembly->build(ret);
    }
    return ret;
}

