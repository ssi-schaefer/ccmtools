SmartPtr<%(ComponentType)s>
%(HomeType)s::%(Identifier)s(%(MParameterDefAll)s)
    throw(::Components::CCMException, ::Components::CreateFailure)
{
    SmartPtr< ::Components::Assembly> assembly;
    if(assembly_factory != SmartPtr< ::Components::AssemblyFactory>()) 
    {
        assembly = assembly_factory->create(); 
    }

    ::Components::EnterpriseComponent* enterprise_component = 
        local_home->%(Identifier)s(%(MParameterDefName)s);
                
    %(CCMComponentType)s* local_component = 
        dynamic_cast< %(CCMComponentType)s* >(enterprise_component);
    
    %(ComponentType)s* local_component_adapter = 
        new %(ComponentType)s(this, local_component, assembly);
        
    SmartPtr< %(ComponentType)s > ret(local_component_adapter);
        
    if(assembly_factory != SmartPtr< ::Components::AssemblyFactory>()) 
    {
        assembly->build(ret);
    }
    return ret;
}

