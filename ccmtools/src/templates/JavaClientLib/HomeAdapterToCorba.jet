<%@ jet package="ccmtools.generator.java.clientlib.templates" 
	    class="HomeAdapterToCorbaTemplate" 
		imports="ccmtools.generator.java.clientlib.metamodel.* "	    
%>
<% HomeDef home = (HomeDef) argument; %>
/*
 * This file was automatically generated by <%=home.generateCcmtoolsVersion()%>
 * <http://ccmtools.sourceforge.net>
 * <%=home.generateTimestamp()%>
 * DO NOT EDIT!
 */

package <%=home.getJavaNamespace()%>;
           
public class <%=home.getIdentifier()%>AdapterToCorba
    implements <%=home.getIdentifier()%>
{
    public static final String HOME_REPO_ID = "IDL:<%%>:1.0";
    public static final String HOME_DEFAULT_NAME = "<%=home.getIdentifier()%>:1.0";

    /** CORBA reference to the remote home */
    private <%=home.getAbsoluteIdlName()%> remoteHome;
    
    public <%=home.getIdentifier()%>AdapterToCorba()
        throws ccm.local.Components.CCMException
    {
        this(HOME_DEFAULT_NAME);
    }
    
    public <%=home.getIdentifier()%>AdapterToCorba(String homeName)
        throws ccm.local.Components.CCMException
    {
        try
        {
        	Components.CCMHome ccmHome = 
        	    ccm.local.ServiceLocator.instance().findCCMHome(homeName);
        	remoteHome = <%=home.getAbsoluteIdlName()%>Helper.narrow(ccmHome);
        }
        catch(java.lang.Exception e)
        {
            throw new ccm.local.Components.CCMException(e.getMessage());
        }
    }
    
    
    public <%=home.getComponent().getAbsoluteJavaName()%> create()
        throws ccm.local.Components.CreateFailure
    {
        try
        {
            return new <%=home.getComponent().getAbsoluteJavaRemoteName()%>AdapterToCorba(remoteHome.create());        
        }
        catch(java.lang.Exception e)
        {
            throw new ccm.local.Components.CreateFailure();
        }
    } 
    
    public ccm.local.Components.CCMObject create_component()
        throws ccm.local.Components.CCMException, ccm.local.Components.CreateFailure
    {
        return (ccm.local.Components.CCMObject)create();
    }
    
    
    public void remove_component(ccm.local.Components.CCMObject component)
        throws ccm.local.Components.CCMException, ccm.local.Components.RemoveFailure
    {
        // TODO
        throw new RuntimeException("NotImplemented");
    }
}