void
%(ComponentType)s::connect_%(Identifier)s ( SmartPtr<CCM_%(UsesType)s> f )
  throw ( localComponents::AlreadyConnected, localComponents::InvalidConnection )
{
  DEBUGNL ( " %(ComponentType)s->connect_%(Identifier)s (  )" );
  if( ! ValidConnection ) throw localComponents::InvalidConnection (  );
  if ( %(Identifier)s_receptacle )
    throw localComponents::AlreadyConnected (  );
  else
    %(Identifier)s_receptacle = f;
}

SmartPtr<CCM_%(UsesType)s>
%(ComponentType)s::disconnect_%(Identifier)s (  )
  throw ( localComponents::NoConnection )
{
  DEBUGNL ( " %(ComponentType)s->disconnect_%(Identifier)s (  )" );
  if ( ! ValidConnection ) throw localComponents::InvalidConnection (  );
  if ( ! %(Identifier)s_receptacle )
    throw localComponents::NoConnection (  );
  else
  {
    SmartPtr<CCM_%(UsesType)s> f = %(Identifier)s_receptacle;
    %(Identifier)s_receptacle = SmartPtr<CCM_%(UsesType)s> (  );
    return f;
  }
}

SmartPtr<CCM_%(UsesType)s>
%(ComponentType)s::get_connection_%(Identifier)s (  )
{
  DEBUGNL ( " %(ComponentType)s->get_connection_%(Identifier)s()" );
  if (!ValidConnection) 
    throw localComponents::InvalidConnection();
  if (%(Identifier)s_receptacle == SmartPtr<CCM_%(UsesType)s>())
    throw localComponents::NoConnection();
  return %(Identifier)s_receptacle;
}


