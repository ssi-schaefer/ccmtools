/*
 * This file was automatically generated by the CCM Tools - DO NOT EDIT !
 * <http://ccmtools.sourceforge.net/>
 */

//==============================================================================
// %(Identifier)s - home class and support classes
//==============================================================================

#ifndef __HOME_%(PreprocIdentifier)s_GEN__H__
#define __HOME_%(PreprocIdentifier)s_GEN__H__

#ifdef CCM_TEST_PYTHON
#include <CCM_Test/Python/call_python.h>
#include <CCM_Test/Python/convert_python.h>
%(ConvertPythonInclude)s
#endif

#include <string>
#include <map>
#include <CCM_Utils/SmartPointer.h>
#include <localComponents/CCM.h>

%(MFactoryDefInclude)s
%(MFinderDefInclude)s
%(MSupportsDefInclude)s
%(BaseInclude)s

#include "%(ComponentType)s_gen.h"

%(OpenNamespace)s

class CCM_%(ComponentType)s;
class %(ComponentType)s;
class CCM_%(Identifier)sExplicit;
class CCM_%(Identifier)sImplicit;
class CCM_%(Identifier)s;
class %(Identifier)s;

//==============================================================================
// explicit support classes
//==============================================================================

class %(Identifier)sExplicit
  : public localComponents::CCMHome
{
 public:
%(MFactoryDefAdapterPrototypeVV)s
};

//==============================================================================
// implicit support classes
//==============================================================================

class %(Identifier)sImplicit
  : public localComponents::KeylessCCMHome
{
 public:
  virtual CCM_Utils::SmartPtr<%(ComponentType)s> create (  )
    throw ( localComponents::CreateFailure ) = 0;
};




//==============================================================================
// home and home adapter classes
//==============================================================================

class %(Identifier)s
  : public %(Identifier)sExplicit, public %(Identifier)sImplicit%(BaseType)s
{
 private:
  CCM_%(Identifier)s* local_home;

 public:
  %(Identifier)s (  );
  virtual ~%(Identifier)s (  );

%(MFactoryDefAdapterPrototypeV)s

  // CCMHome functions

  virtual CCM_Utils::SmartPtr<%(ComponentType)s> create (  )
    throw ( localComponents::CreateFailure );
  virtual localComponents::IRObject* get_component_def (  );
  virtual localComponents::IRObject* get_home_def (  );
  virtual void remove_component ( const localComponents::CCMObject& comp )
    throw ( localComponents::RemoveFailure );

  // KeylessCCMHome functions

  virtual localComponents::CCMObject* create_component (  )
    throw ( localComponents::CreateFailure );
};

%(CloseNamespace)s

//==============================================================================
// entry point
//==============================================================================

extern "C" {
  CCM_Utils::SmartPtr<localComponents::CCMHome> create_%(Identifier)sAdapter();
}

#endif


<<<<<<<SPLIT>>>>>>>
/*
 * This file was automatically generated by the CCM Tools - DO NOT EDIT !
 * <http://ccmtools.sourceforge.net/>
 */

//==============================================================================
// %(Identifier)s - home class component logic implementation
//==============================================================================

#include <iostream>
#include <CCM_Utils/Debug.h>

#include "%(Identifier)s_gen.h"
#include <%(Identifier)s_entry.h>

using namespace std;
using namespace CCM_Utils;
using namespace CCM_Local;

%(OpenNamespace)s

//==============================================================================
// home adapter implementation
//==============================================================================

%(Identifier)s::%(Identifier)s (  )
{
  DEBUGNL ( "+%(Identifier)s->%(Identifier)s (  )" )
  local_home = dynamic_cast<CCM_%(Identifier)s*> ( create_%(Identifier)s (  ) );
}

%(Identifier)s::~%(Identifier)s (  )
{
  DEBUGNL ( "-%(Identifier)s->~%(Identifier)s (  )" )
  delete local_home;
}

%(MFactoryDefAdapterDefinition)s

// CCMHome functions

SmartPtr<%(ComponentType)s>
%(Identifier)s::create (  )
  throw ( localComponents::CreateFailure )
{
  DEBUGNL(" %(Identifier)s->create (  )");
  SmartPtr<%(ComponentType)s> ret (
    dynamic_cast<%(ComponentType)s*> (
      new %(ComponentType)s (
        this, dynamic_cast<CCM_%(ComponentType)s*> ( local_home->create (  ) )
        )
      )
    );
  return ret;
}

localComponents::IRObject*
%(Identifier)s::get_component_def (  )
{
  DEBUGNL ( " %(Identifier)s->get_component_def (  )" );
  // TODO
  throw localComponents::NotImplemented (  );
}

localComponents::IRObject*
%(Identifier)s::get_home_def (  )
{
  DEBUGNL ( " %(Identifier)s->get_home_def (  )" );
  // TODO
  throw localComponents::NotImplemented (  );
}

void
%(Identifier)s::remove_component ( const localComponents::CCMObject& comp )
  throw ( localComponents::RemoveFailure )
{
  DEBUGNL ( " %(Identifier)s->remove_component()" );
  // TODO
  throw localComponents::NotImplemented (  );
}

localComponents::CCMObject*
%(Identifier)s::create_component (  )
  throw ( localComponents::CreateFailure )
{
  DEBUGNL ( " %(Identifier)s->create_component()" );
  // TODO
  throw localComponents::NotImplemented (  );
}

%(CloseNamespace)s

//==============================================================================
// entry point
//==============================================================================

extern "C" {
  CCM_Utils::SmartPtr<localComponents::CCMHome>
  create_%(Identifier)sAdapter (  )
  {
    DEBUGNL ( " create_%(Identifier)sAdapter (  )" );
    CCM_Utils::SmartPtr<localComponents::CCMHome>
      ret ( new %(Namespace)s::%(Identifier)s (  ) );
    return ret;
  }
}


<<<<<<<SPLIT>>>>>>>
/*
 * This file was automatically generated by the CCM Tools - DO NOT EDIT !
 * <http://ccmtools.sourceforge.net/>
 */

//==============================================================================
// %(Identifier)s - shared class definitions
//==============================================================================

#ifndef __HOME_%(PreprocIdentifier)s_SHARE__H__
#define __HOME_%(PreprocIdentifier)s_SHARE__H__

#include <CCM_Utils/SmartPointer.h>
#include <localComponents/CCM.h>

%(MFactoryDefInclude)s
%(MFinderDefInclude)s
%(MSupportsDefInclude)s
%(BaseInclude)s

%(OpenNamespace)s

//==============================================================================
// home classes
//==============================================================================

class CCM_%(Identifier)sExplicit
  : public localComponents::HomeExecutorBase
{
 public:
%(MFactoryDefPrototypeVV)s
};


class CCM_%(Identifier)sImplicit
{
 public:
  virtual localComponents::EnterpriseComponent* create (  )
    throw ( localComponents::CCMException ) = 0;
};


class CCM_%(Identifier)s
  : public CCM_%(Identifier)sExplicit, public CCM_%(Identifier)sImplicit%(BaseType)s%(MSupportsDefBase)s
{
};

%(CloseNamespace)s

#endif // __HOME_%(PreprocIdentifier)s_SHARE__H__


<<<<<<<SPLIT>>>>>>>
//==============================================================================
// %(Identifier)s - entry point
//==============================================================================

#ifndef __HOME_%(PreprocIdentifier)s_ENTRY__H__
#define __HOME_%(PreprocIdentifier)s_ENTRY__H__

extern "C" {
  localComponents::HomeExecutorBase* create_%(Identifier)s();
}

#endif // __HOME_%(PreprocIdentifier)s_ENTRY__H__


<<<<<<<SPLIT>>>>>>>
//==============================================================================
// %(Identifier)s - home class business logic
//==============================================================================

#ifndef __HOME_%(PreprocIdentifier)s_APP__H__
#define __HOME_%(PreprocIdentifier)s_APP__H__

#include <%(HomeInclude)s_share.h>
#include "%(Identifier)s_entry.h"

%(OpenNamespace)s

class CCM_%(Identifier)s;

class CCM_%(Identifier)s_impl
  : public CCM_%(Identifier)s%(BaseType)s
{
 public:
  CCM_%(Identifier)s_impl (  );
  virtual ~CCM_%(Identifier)s_impl (  );

  virtual localComponents::EnterpriseComponent* create (  )
    throw ( localComponents::CCMException );

%(MFactoryDefPrototypeV)s
};

%(CloseNamespace)s

#endif


<<<<<<<SPLIT>>>>>>>
//==============================================================================
// %(Identifier)s - home business logic implementation
//==============================================================================

#include <iostream>
#include <CCM_Utils/Debug.h>

#include "%(ComponentType)s_app.h"
#include "%(Identifier)s_app.h"

using namespace std;
using namespace CCM_Utils;
using namespace CCM_Local;

%(OpenNamespace)s

//==============================================================================
// implementation of component home
//==============================================================================

CCM_%(Identifier)s_impl::CCM_%(Identifier)s_impl (  )
{
  DEBUGNL ( "+CCM_%(Identifier)s_impl->CCM_%(Identifier)s_impl (  )" );
}

CCM_%(Identifier)s_impl::~CCM_%(Identifier)s_impl (  )
{
  DEBUGNL ( "-CCM_%(Identifier)s_impl->~CCM_%(Identifier)s_impl (  )" );
}

localComponents::EnterpriseComponent*
CCM_%(Identifier)s_impl::create (  )
  throw ( localComponents::CCMException )
{
  DEBUGNL ( " CCM_%(Identifier)s_impl->create (  )" );
  return dynamic_cast<localComponents::EnterpriseComponent*>(new CCM_%(ComponentType)s_impl (  ));
}

%(MFactoryDefImplDefinition)s

%(CloseNamespace)s

//==============================================================================
// entry point
//==============================================================================

extern "C" {
  localComponents::HomeExecutorBase*
  create_%(Identifier)s (  )
  {
    DEBUGNL ( " create_%(Identifier)s (  )" );
    return dynamic_cast<localComponents::HomeExecutorBase*>
      ( new %(Namespace)s::CCM_%(Identifier)s_impl (  ) );
  }
}


